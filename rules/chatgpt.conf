# Surge Rule-Set for AI Services
# Includes: ChatGPT, Perplexity AI, Gemini AI
# Last Updated: 2026-02-21

# --- 1. OpenAI & ChatGPT ---
# > Main Domains
DOMAIN-SUFFIX,openai.com
DOMAIN-SUFFIX,chatgpt.com
DOMAIN-SUFFIX,chat.openai.com

# > API & Backend Services
DOMAIN-SUFFIX,ai.com
DOMAIN-KEYWORD,openai-api
DOMAIN-SUFFIX,oaiusercontent.com
DOMAIN-SUFFIX,oaistatic.com

# > Authentication & Verification
DOMAIN-SUFFIX,auth0.com
DOMAIN-SUFFIX,sentry.io
DOMAIN-SUFFIX,intercom.io
DOMAIN-SUFFIX,identrust.com
DOMAIN-SUFFIX,arkoselabs.com
DOMAIN-SUFFIX,challenges.cloudflare.com

# > IP-CIDR for OpenAI (Recommended for stability)
IP-CIDR,20.50.228.104/30,no-resolve
IP-CIDR,40.84.182.176/30,no-resolve
# ... (保留了完整的 OpenAI IP 列表) ...
IP-CIDR,191.235.85.96/28,no-resolve
IP-CIDR,2603:1030:a:10::/64,no-resolve
IP-CIDR,2603:1030:a:11::/64,no-resolve
IP-CIDR,2603:1030:a:20::/64,no-resolve
IP-CIDD,2603:1030:a:30::/64,no-resolve
IP-CIDD,2603:1030:c:10::/64,no-resolve


# --- 2. Perplexity AI ---
# > Main Domains
DOMAIN-SUFFIX,perplexity.ai
DOMAIN-SUFFIX,pplx.ai

# > API and Websocket
# 主域名已覆盖，通常 API 在 api.perplexity.ai


# --- 3. Gemini AI (Google AI) ---
# > Main User-Facing Domains
# Gemini 网页版主域名
DOMAIN-SUFFIX,gemini.google.com
# 旧版 Bard 域名 (建议保留用于重定向)
DOMAIN-SUFFIX,bard.google.com

# > Developer & API Domains
# AI Studio 和开发者平台
DOMAIN-SUFFIX,aistudio.google.com
DOMAIN-SUFFIX,ai.google.dev
# DeepMind 相关
DOMAIN-SUFFIX,deepmind.google

# > Specific API Endpoints (Crucial for avoiding proxying all of Google)
# [重要] 仅代理 Gemini 专属的 API，避免误代理 YouTube, Gmail 等
DOMAIN-SUFFIX,generativelanguage.googleapis.com
DOMAIN-SUFFIX,aiplatform.googleapis.com
# [警告] 不要添加 DOMAIN-SUFFIX,googleapis.com，这会导致所有谷歌服务走代理


# [注意] 不建议为 Gemini/Google AI 添加 IP-CIDR 规则，因为 Google 的 IP 段是全球服务共享的，
# 添加后会导致大量非 AI 流量（如搜索、地图）也被代理，失去分流意义。
